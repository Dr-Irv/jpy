language: python
sudo: false

# matrix start ###################################

python:
  - "2.7"
  - "3.4"
  - "3.5"
  - "3.6"

# matrix end #####################################

cache:
  directories:
    - $HOME/.m2

addons:
  apt:
    packages:
      # update java8 to latest version
      - oracle-java8-installer
      - oracle-java8-set-default

before_script:
  - java -version
  - ls /usr/lib/jvm
  - ls /usr/lib/jvm/java-7-oracle
  - echo $JDK_HOME
  - echo $JAVA_HOME
  - travis_wait 20 mvn dependency:resolve
  - virtualenv $HOME/jpy-venv
  - source $HOME/jpy-venv/bin/activate
  - pip install wheel

script: python setup.py --maven bdist_wheel
